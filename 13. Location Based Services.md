# 13. Location Based Services

> Develop an application that keeps track of location (coordinates) of device and display values of longitude and latitude on screen
> 

### Default.aspx

```csharp
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="LocationTracker._Default" %>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title>Location Based Services</title>
        <script type="text/javascript">
            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition, showError);
                } else {
                    document.getElementById("lblMessage").innerHTML = "Geolocation is not supported by this browser.";
                }
            }
            
            function showPosition(position) {
                document.getElementById("txtLatitude").innerHTML = position.coords.latitude;
                document.getElementById("txtLongitude").innerHTML = position.coords.longitude;
                document.getElementById("lblMessage").innerHTML = "Location retrieved successfully!";
            }
            
            function showError(error) {
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        document.getElementById("lblMessage").innerHTML = "User denied the request for Geolocation.";
                        break;
                    case error.POSITION_UNAVAILABLE:
                        document.getElementById("lblMessage").innerHTML = "Location information is unavailable.";
                        break;
                    case error.TIMEOUT:
                        document.getElementById("lblMessage").innerHTML = "The request to get user location timed out.";
                        break;
                    case error.UNKNOWN_ERROR:
                        document.getElementById("lblMessage").innerHTML = "An unknown error occurred.";
                        break;
                }
            }
        </script>
    </head>
    <body style="font-family:Arial; text-align:center; margin-top:50px;">
        <form id="form1" runat="server">
            <h2>üìç Location Based Services</h2>
            <hr />
            <asp:Button ID="btnGetLocation" runat="server" Text="Get Current Location"
                OnClientClick="getLocation(); return false;" CssClass="btn" />
            <br /><br />
            <div>
                <b>Latitude:</b> <span id="txtLatitude">---</span><br />
                <b>Longitude:</b> <span id="txtLongitude">---</span><br /><br />
                <asp:Label ID="lblMessage" runat="server" Text=""></asp:Label>
            </div>
        </form>
    </body>
</html>
```

### Default.aspx.cs

```csharp
using System;

namespace LocationTracker {
  public partial class _Default: System.Web.UI.Page {
    protected void Page_Load(object sender, EventArgs e) {}
  }
}
```