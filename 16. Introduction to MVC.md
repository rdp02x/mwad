# 16. Introduction to MVC

> Create database `book_master` having table `book_info` and have fields like ***book_id*** (PK, AI), ***book_name***, ***author***, ***price***. 

Create a web application with validation which will insert, view, search, update and delete records from table. 

[Use MVC architecture]
> 

### Book.cs

```csharp
using System.ComponentModel.DataAnnotations;

namespace BookMasterMVC.Models {
  public class Book { [Key]
    public int book_id {
      get;
      set;
    }

    [Required(ErrorMessage = "Book name is required")]
    public string book_name {
      get;
      set;
    }

    [Required(ErrorMessage = "Author name is required")]
    public string author {
      get;
      set;
    }

    [Required(ErrorMessage = "Price is required")][Range(1, 9999, ErrorMessage = "Price must be between 1 and 9999")]
    public decimal price {
      get;
      set;
    }
  }
}
```

### BookContext.cs

```csharp
using System.Data.Entity;

namespace BookMasterMVC.Models {
  public class BookContext: DbContext {
    public BookContext() : base("BookConn") {}

    public DbSet < Book > Books {
      get;
      set;
    }
  }
}
```

### SQL

```sql
CREATE DATABASE book_master;

GO USE book_master;

GO CREATE TABLE book_info (
  book_id INT IDENTITY(1, 1) PRIMARY KEY, 
  book_name NVARCHAR(100) NOT NULL, 
  author NVARCHAR(100) NOT NULL, 
  price DECIMAL(10, 2) NOT NULL
);

```

### Web.config

```xml
<connectionStrings>
	<add name="BookConn"
connectionString="Data Source=.\SQLEXPRESS;Initial Catalog=book_master;Integrated   Security=True"
providerName="System.Data.SqlClient" />
</connectionStrings>
```